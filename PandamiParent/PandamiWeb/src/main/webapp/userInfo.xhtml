<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/masterPageBis.xhtml">
	<ui:define name="title">Profil - Pand'ami</ui:define>
	<ui:define name="content">
		<div id="main">
			<div id="titrePage">Veuillez compléter le formulaire ci-dessous : </div>
			<div id="required">* : champ obligatoire</div>
			<h:form styleClass="formInfos" id="formUser">
				<div id="leftPanel">
					<div id="connexion">		
						<label>Identifiant*</label>
						<p:inputText value="#{mbConnect.user.login}" required="true" requiredMessage="Le login est obligatoire" id="login"/>
						<p:message style="color:red" for="login" />
						<label>Mot de passe*</label>
						<p:password value="#{mbConnect.user.password}" feedback="true" required="true" requiredMessage="Le mot de passe est obligatoire" id="password"/>	
						<p:message style="color:red" for="password" />			
					</div>
					<div id="civilState">
						<label>Nom*</label>
						<p:inputText value="#{mbConnect.user.surname}" required="true" id="surname" requiredMessage="Le nom doit être renseigné" />
						<p:message style="color:red" for="surname" />		
						<label>Prenom*</label>
						<p:inputText value="#{mbConnect.user.name}" required="true" id="name" requiredMessage="Le prénom doit être renseigné" />
						<p:message style="color:red" for="name" />	
    					<label>Date de naissance*</label>
    					<p:calendar id="navigator" value="#{mbConnect.user.birthDate}" yearRange="c-100:c" navigator="true"  required="true" requiredMessage="La date de naissance doit être renseignée" />
                        <p:message style="color:red" for="navigator" />	
						<label>Genre*</label>
						<p:selectOneRadio id="gender" value="#{mbConnect.user.gender}" converter="omnifaces.SelectItemsConverter" unselectable="true" required="true" requiredMessage="Le genre doit être renseigné" >
							<f:selectItems value="#{mbConnect.genders}" var="gender" itemLabel="#{gender.name}" itemValue="#{gender}"></f:selectItems>
        				</p:selectOneRadio>		
        				 <p:message style="color:red" for="gender" />	
					</div>
					<div id="contact">			
						<label>email*</label>
						<p:inputText id="email" value="#{mbConnect.user.email}" required="true" requiredMessage="Le mail doit être renseigné"/>
						 <p:message style="color:red" for="email" />	
						<label>N° telephone*</label>
						<p:inputText id="phone" value="#{mbConnect.user.phoneNumber}" required="true" requiredMessage="Le numéro doit être renseigné"/>			
						 <p:message style="color:red" for="phone" />		
					</div>
				</div>
				<div id="rightPanel">
					<div id="adress">
						<h5>Adresse* :</h5>
						<label>N° et rue*</label>
						<div id="wrapperStreet">
                        	<h:inputText id="street" value="#{mbConnect.user.street}"  required="true" requiredMessage="Le N° et la rue doivent être renseignés"/>
                        	<p:message style="color:red" for="street" />
                        	<div class="streetResults"></div>
                    	</div>
						<label>Code Postal*</label>
						<h:inputText id="postCode" value="#{mbConnect.selectedCity.zipCode}"  required="true"/>
						<label>Ville*</label>
						<div id="wrapperCity">
							<h:inputText id="city" value="#{mbConnect.selectedCity.name}" />
							<p:message style="color:red" for="city" />
                        	<div class="cityResults"></div>
                    	</div>
					</div>
					<div id="emergencyContact">
						<label id="labelEmergency">Contact d'Urgence :</label>
						<label>Nom</label>
						<p:inputText value="#{mbConnect.user.emergencyContactSurname}" />
						<label>Prenom</label>
						<p:inputText value="#{mbConnect.user.emergencyContactName}" />
						<label>N° telephone</label>
						<p:inputText value="#{mbConnect.user.emergencyContactPhoneNumber}" />
					</div>		
					<div id="bouton">
						<p:commandButton update="@form" action="#{mbConnect.createAccount()}"
					value="Créer un compte" />
						<p:outputLabel value="#{mbConnect.message}" />	
					</div>
				</div>
			</h:form>
			<h:form>
				<div id="boutonDemo">
					<p:commandButton action="#{mbConnect.setDemoKaradoc()}" value="Démonstration" />		
				</div>
			</h:form>
		</div>
		<script src="resources/JS/address.js"></script>
	</ui:define>
	<ui:define name="CSS">
		<h:outputStylesheet name="CSS/userInfo.css" />
	</ui:define>
</ui:composition>
</html>